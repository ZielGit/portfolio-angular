<nav class="navbar main-navbar on-top menu-animate" [class.nav-shadow]="pageYPosition > 0">
  <div class="container">
    <a class="navbar-brand text-light animate-item" [routerLink]="'inicio'">
      <img src="images/logo.png" width="50" alt="Logo" />
    </a>
    <ul ngbNav #nav="ngbNav" class="menu-ul">
      <li ngbNavItem class="animate-item" (click)='analyticsApi.sendAnalyticEvent("click_about", "menu", "click")'>
        <a ngbNavLink (click)='scroll("about")'>
          <span class="nav-number">01. </span>
          <span class="underline nav-text">{{ "Header.Item1" | translate }}</span>
        </a>
        <ng-template ngbNavContent>First content</ng-template>
      </li>
      <li ngbNavItem class="animate-item" (click)='analyticsApi.sendAnalyticEvent("click_experience", "menu", "click")'>
        <a ngbNavLink (click)='scroll("jobs")'>
          <span class="nav-number">02. </span>
          <span class="underline nav-text">{{ "Header.Item2" | translate }}</span>
        </a>
        <ng-template ngbNavContent>Second content</ng-template>
      </li>
      <li ngbNavItem class="animate-item" (click)='analyticsApi.sendAnalyticEvent("click_jobs", "menu", "click")'>
        <a ngbNavLink (click)='scroll("proyects")'>
          <span class="nav-number">03. </span>
          <span class="underline nav-text">{{ "Header.Item3" | translate }}</span>
        </a>
        <ng-template ngbNavContent>Second content</ng-template>
      </li>
      <li ngbNavItem class="animate-item" (click)='analyticsApi.sendAnalyticEvent("click_contact", "menu", "click")'>
        <a ngbNavLink (click)='scroll("contact")'>
          <span class="nav-number">04. </span>
          <span class="underline nav-text">{{ "Header.Item4" | translate }}</span>
        </a>
        <ng-template ngbNavContent>Second content</ng-template>
      </li>
      <li ngbNavItem class="animate-item">
        <a (click)="previewCV()" class="main-btn cv-btn" ngbNavLink> {{ "Header.cvBtn" | translate }} </a>
      </li>
      <li class="animate-item">
        <div ngbDropdown class="d-inline-block">
          <div class="language-container" id="dropdownForm1" ngbDropdownToggle>
            <img width="20px" [src]="currentLanguageConfig().flagUrl" [alt]="currentLanguageConfig().label" />
            <span class="flag-text">{{ currentLanguageConfig().label }}</span>
            <svg class="arrow-language" xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24">
              <path d="M0 7.33l2.829-2.83 9.175 9.339 9.167-9.339 2.829 2.83-11.996 12.17z" />
            </svg>
          </div>

          <!-- Dropdown Menu -->
          <div ngbDropdownMenu aria-labelledby="dropdownForm1">
            @for (lang of availableLanguages(); track lang.code; let isFirst = $first; let isLast = $last) {
            <div
              (click)="changeLanguage(lang.code)"
              class="language-container language-container-selector"
              [class.active]="isLanguageActive(lang.code)"
              [class.first-item]="isFirst"
              [class.middle-item]="!isFirst && !isLast"
              [class.last-item]="isLast"
            >
              <img width="20px" [src]="lang.flagUrl" [alt]="lang.label" />
              <span class="flag-text">{{ lang.label }}</span>
              @if (isLanguageActive(lang.code)) {
              <svg
                xmlns="http://www.w3.org/2000/svg"
                width="16"
                height="16"
                fill="currentColor"
                class="bi bi-check2 arrow-active"
                viewBox="0 0 16 16"
              >
                <path
                  d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                />
              </svg>
              }
            </div>
            }
          </div>
        </div>
      </li>
    </ul>

    <!-- Hamburger Menu Toggle -->
    <div class="menu-wrapper">
      <div
        [class.animate]="responsiveMenuVisible"
        (click)="responsiveMenuVisible = !responsiveMenuVisible"
        class="hamburger-menu"
      ></div>
    </div>

    <!-- Mobile/Responsive Menu -->
    <div class="menu-responsive" [ngStyle]="{'pointer-events': !responsiveMenuVisible ? 'none' : '' }">
      <aside [class.aside-show]="responsiveMenuVisible" [class.nav-shadow]="pageYPosition > 0" class="on-top">
        <nav>
          <ol>
            <li (click)='analyticsApi.sendAnalyticEvent("click_about", "menu", "click")'>
              <a (click)='scroll("about")'> <span>01. </span> {{ "Header.Item1" | translate }} </a>
            </li>
            <li (click)='analyticsApi.sendAnalyticEvent("click_experience", "menu", "click")'>
              <a (click)='scroll("jobs")'> <span>02. </span> {{ "Header.Item2" | translate }} </a>
            </li>
            <li (click)='analyticsApi.sendAnalyticEvent("click_jobs", "menu", "click")'>
              <a (click)='scroll("proyects")'> <span>03. </span> {{ "Header.Item3" | translate }} </a>
            </li>
            <li (click)='analyticsApi.sendAnalyticEvent("click_contact", "menu", "click")'>
              <a (click)='scroll("proyects")'> <span>04. </span> {{ "Header.Item4" | translate }} </a>
            </li>
            <li>
              <a (click)="previewCV()" class="main-btn cv-btn"> {{ "Header.cvBtn" | translate }} </a>
            </li>
            <li>
              <div class="language-container">
                @for (lang of availableLanguages(); track lang.code; let isFirst = $first; let isLast = $last) {
                <div
                  (click)="changeLanguage(lang.code)"
                  class="language-container language-container-selector"
                  [class.active]="isLanguageActive(lang.code)"
                >
                  <img [src]="lang.flagUrl" [alt]="lang.label" />
                  <span class="flag-text">{{ lang.label }}</span>
                  @if (isLanguageActive(lang.code)) {
                  <svg
                    xmlns="http://www.w3.org/2000/svg"
                    width="16"
                    height="16"
                    fill="currentColor"
                    class="bi bi-check2 arrow-active"
                    viewBox="0 0 16 16"
                  >
                    <path
                      d="M13.854 3.646a.5.5 0 0 1 0 .708l-7 7a.5.5 0 0 1-.708 0l-3.5-3.5a.5.5 0 1 1 .708-.708L6.5 10.293l6.646-6.647a.5.5 0 0 1 .708 0z"
                    />
                  </svg>
                  }
                </div>
                }
              </div>
            </li>
          </ol>
        </nav>
      </aside>
    </div>
  </div>
</nav>
